import{usePageFrontmatter as O,usePageData as m,defineClientConfig as R}from"vuepress/client";import{useEventListener as I}from"@vueuse/core";import{computed as a,onMounted as _,watchEffect as G}from"vue";import{useLocaleConfig as H,isPlainObject as y,isString as A,removeEndingSlash as P,isLinkHttp as D}from"vuepress-shared/client";const u=COPYRIGHT_CANONICAL,S=()=>{const n=O(),C=H(COPYRIGHT_LOCALES),l=m(),p=a(()=>!!n.value.copy||n.value.copy!==!1&&COPYRIGHT_GLOBAL),o=a(()=>y(n.value.copy)?n.value.copy:null),f=a(()=>o.value?.disableCopy??COPYRIGHT_DISABLE_COPY),h=a(()=>p.value?o.value?.disableSelection??COPYRIGHT_DISABLE_SELECTION:!1),v=a(()=>p.value?o.value?.maxLength??COPYRIGHT_MAX_LENGTH:0),L=a(()=>o.value?.triggerLength??COPYRIGHT_TRIGGER_LENGTH),g=()=>u?`${P(D(u)?u:`https://${u}`)}${l.value.path}`:window.location.href,d=(e,t)=>{const{author:s,license:i,link:r}=C.value;return[e?s.replace(":author",e):"",t?i.replace(":license",t):"",r.replace(":link",g())].filter(c=>c).join(`
`)},T=()=>{if(A(l.value.copyright))return l.value.copyright.replace(":link",g());const{author:e,license:t}=l.value.copyright||{};return d(e??COPYRIGHT_DEFAULT_AUTHOR,t??COPYRIGHT_DEFAULT_LICENSE)},E=e=>{const t=getSelection();if(t){const s=t.getRangeAt(0);if(p.value){const i=s.toString().length;if(f.value||v.value&&i>v.value)return e.preventDefault();if(i>=L.value){e.preventDefault();const r=T(),c=document.createElement("div");c.appendChild(t.getRangeAt(0).cloneContents()),e.clipboardData&&(e.clipboardData.setData("text/html",`${c.innerHTML}<hr><div class="copyright">${r.replace(/\\n/g,"<br>")}</div>`),e.clipboardData.setData("text/plain",`${t.getRangeAt(0).cloneContents().textContent||""}
------
${r}`))}}}};_(()=>{const e=document.querySelector("#app");I(e,"copy",E),G(()=>{e.style.userSelect=h.value?"none":"auto"})})};var Y=R({setup:()=>{S()}});export{Y as default};
//# sourceMappingURL=config.js.map
