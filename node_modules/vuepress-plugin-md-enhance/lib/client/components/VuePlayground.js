import{defineComponent as m,ref as g,shallowRef as n,computed as c,onMounted as f,h as t}from"vue";import{deepAssign as y,LoadingIcon as V}from"vuepress-shared/client";import"@vue/repl/style.css";import"../styles/vue-playground.scss";import{u as w}from"../vuePlayground-AR3tSCIc.js";const R=e=>JSON.parse(decodeURIComponent(e));var S=m({name:"VuePlayground",props:{title:{type:String,default:""},files:{type:String,required:!0},settings:{type:String,default:"{}"}},setup(e){const u=w(),i=g(!0),a=n(),o=n(),r=n(),l=c(()=>y({},u,R(e.settings))),s=async()=>{const[{ReplStore:d,Repl:p},{default:v}]=await Promise.all([import("@vue/repl"),import("@vue/repl/codemirror-editor")]);a.value=p,r.value=v,o.value=new d({serializedState:decodeURIComponent(e.files)}),l.value.vueVersion&&await o.value.setVueVersion(l.value.vueVersion)};return f(async()=>{await s(),i.value=!1}),()=>[t("div",{class:"vue-playground-wrapper"},[e.title?t("div",{class:"header"},decodeURIComponent(e.title)):null,t("div",{class:"repl-container"},[i.value?t(V,{class:"preview-loading",height:192}):null,a.value?t(a.value,{editor:r.value,store:o.value,autoResize:!0,...l.value,layout:"horizontal"}):null])])]}});export{S as default};
//# sourceMappingURL=VuePlayground.js.map
